define("invest:widget/newbee/guide/calculator/calculator",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery"],function(require,exports,module){var $=require("common:widget/oui/lib/jquery/1.9.1/jquery"),singleton={init:function(){function showanimate(){$weHolder.stop(!0,!0).width(0).animate({width:"255px"}),$baobaoHolder.stop(!0,!0).width(0).animate({width:"200px"}),$huoqiHolder.stop(!0,!0).width(0).animate({width:"86px"})}function validate(){var e=$("#much").val();return""==e?($(".placeholder").show(),!0):/^\d{1,10}$/.test(e)&&Number(e)%50==0&&"0"!=e?($(".error").hide(),$("#much").removeClass("err"),!0):($(".error").show(),$("#much").addClass("err"),!1)}function fixMath(m,n,op){var a=m+"",b=n+"",x=1,y=1,c=1;switch(a.indexOf(".")>0&&(x=Math.pow(10,a.length-a.indexOf(".")-1)),b.indexOf(".")>0&&(y=Math.pow(10,b.length-b.indexOf(".")-1)),op){case"+":case"-":c=Math.max(x,y),m=Math.round(m*c),n=Math.round(n*c);break;case"*":c=x*y,m=Math.round(m*x),n=Math.round(n*y);break;case"/":c=Math.max(x,y),m=Math.round(m*c),n=Math.round(n*c),c=1}return eval("("+m+op+n+")/"+c)}function toFixed(e){var a=parseFloat(parseFloat(Math.round(100*e)/100,10).toFixed(2));return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function calculate(){var e=$("#much").val(),a=Number($("span.selected").attr("data"));if(validate()){e=""==e?1e4:Number(e);var o,t,i,n=fixMath(fixMath(.35,100,"*"),1e4,"/"),c=fixMath(4,100,"/"),r=fixMath(10,100,"/");o=fixMath(e,fixMath(Math.pow(fixMath(1,fixMath(n,12,"/"),"+"),a),1,"-"),"*"),t=fixMath(e,fixMath(Math.pow(fixMath(1,fixMath(c,12,"/"),"+"),a),1,"-"),"*"),i=fixMath(e,fixMath(Math.pow(fixMath(1,fixMath(r,12,"/"),"+"),a),1,"-"),"*"),$huoqiIncome.text("约"+toFixed(o)+"元"),$baobaoIncome.text("约"+toFixed(t)+"元"),$weIncome.text("约"+toFixed(i)+"元"),showanimate()}}var $weHolder=$("#we-licai"),$baobaoHolder=$("#baobao-licai"),$huoqiHolder=$("#huoqi-licai"),$weIncome=$("#we-income"),$baobaoIncome=$("#baobao-income"),$huoqiIncome=$("#huoqi-income");$(".how-choice span").on("click",function(e){var a=$(e.currentTarget);$(".how-choice .selected").removeClass("selected"),a.addClass("selected")}),$("#much").on("focus",function(){$(".placeholder").hide()}).on("blur",function(){validate()}).on("input propertychange",function(){setTimeout(function(){var e=$("#much").val();$("#much").val(e.replace(/\D/g,""))},1e3)}),$(".placeholder").on("click",function(){$(".placeholder").hide()}),$("#count").on("click",calculate),calculate()}};module.exports=singleton});
;define("invest:widget/static/js/invest-commom",function(t,a,e){var s={ticksownTime:function(t){if($(t).length<=0||"3"!==$(t).attr("data2")&&"0"!==$(t).attr("data2")||"-1"===$(t).attr("data1"))return!1;var a=$(t).attr("data1"),e=setInterval(function(){a-=1,s.formatSeconds(a,t,$(t).attr("data2")),0>=a&&(clearInterval(e),location.reload())},1e3)},formatSeconds:function(t,a,e){var s=parseInt(t,10),r=0,n=0,i=0;s>60&&(r=parseInt(s/60,10),s=parseInt(s%60,10),r>60&&(n=parseInt(r/60,10),r=parseInt(r%60,10)),n>24&&(i=parseInt(n/24,10),n=parseInt(n%24,10)));var p="";p=i>0?""+parseInt(i,10)+"天"+parseInt(n,10)+"时":n>0?""+parseInt(n,10)+"时"+parseInt(r,10)+"分":parseInt(r,10)+"分"+parseInt(s,10)+"秒","#J_WAIT_BUTTON"==a?(p="",p=i>0?""+parseInt(i,10)+"天"+parseInt(n,10)+"时"+parseInt(r,10)+"分":""+parseInt(n,10)+"时"+parseInt(r,10)+"分"+parseInt(s,10)+"秒",$(a).css("letter-spacing","0"),"0"===e&&(p=p),"3"===e&&(p=p)):("0"===e&&(p+="后预定"),"3"===e&&(p+="开始加入")),$(a).html(p)},validate:function(t,a){var e=t.val();return t.val(e.replace(/\D/g,"")),/^\d{1,}$/.test(e)&&e%1e3==0&&0!=e?(a.css("visibility","hidden"),t.removeClass("error-input").addClass("success-input"),!0):(a.css("visibility","visible"),t.removeClass("success-input").addClass("error-input"),!1)}};e.exports=s});